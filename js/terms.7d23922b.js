(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["terms"],{bd91:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ensure-endpoint-initialized",[a("v-card",[a("v-card-title",[a("h2",[e._v("Term Discovery")])]),a("v-layout",{attrs:{column:""}},[a("v-flex",{attrs:{"pl-2":"","pr-2":""}},[a("v-container",{attrs:{fluid:"","pl-2":"","pr-2":""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-text-field",{attrs:{label:"Endpoint",disabled:""},model:{value:e.$store.state.endpoint,callback:function(t){e.$set(e.$store.state,"endpoint",t)},expression:"$store.state.endpoint"}})],1),a("v-flex",{attrs:{xs12:"",sm6:""}},[a("v-select",{attrs:{label:"Default level",items:e.levels,"item-value":"value.id"},model:{value:e.params.level,callback:function(t){e.$set(e.params,"level",t)},expression:"params.level"}})],1),a("v-flex",{attrs:{xs12:"",sm8:""}},[a("v-text-field",{attrs:{label:"Query"},model:{value:e.params.query,callback:function(t){e.$set(e.params,"query",t)},expression:"params.query"}}),e._v("Understands an expanded form of "),a("a",{attrs:{href:"http://lucene.apache.org/core/6_5_1/queryparser/org/apache/lucene/queryparser/classic/package-summary.html#package.description"}},[e._v("Lucene query parser syntax")]),e._v(".")],1),a("v-flex",{attrs:{xs12:"",sm4:""}},[a("v-text-field",{attrs:{label:"Limit",hint:"-1 for no limit",type:"number"},model:{value:e.params.limit,callback:function(t){e.$set(e.params,"limit",t)},expression:"params.limit"}})],1)],1)],1)],1)],1),a("v-btn",{attrs:{color:"primary"},on:{click:function(t){e.search()}}},[e._v("Search")])],1),e._v(" "),a("v-card",[a("v-card-title",[a("h2",{directives:[{name:"show",rawName:"v-show",value:e.results.length!=e.totalTerms,expression:"results.length != totalTerms"}]},[e._v("First "+e._s(e._f("numFormat")(e.results.length))+" out of "+e._s(e._f("numFormat")(e.totalTerms))+" results (total document frequency: "+e._s(e._f("numFormat")(e.totalDocFreq))+", total term frequency: "+e._s(e._f("numFormat")(e.totalTermFreq))+")")]),a("h2",{directives:[{name:"show",rawName:"v-show",value:e.results.length==e.totalTerms,expression:"results.length == totalTerms"}]},[e._v("All "+e._s(e._f("numFormat")(e.results.length))+" results (total document frequency: "+e._s(e._f("numFormat")(e.totalDocFreq))+", total term frequency: "+e._s(e._f("numFormat")(e.totalTermFreq))+")")]),a("v-spacer"),a("v-text-field",{attrs:{"append-icon":"search",label:"Filter","single-line":"","hide-details":""},model:{value:e.tsearch,callback:function(t){e.tsearch=t},expression:"tsearch"}})],1),a("v-data-table",{attrs:{search:e.tsearch,pagination:e.pagination,items:e.results,"hide-actions":"","select-all":"","must-sort":"",loading:e.loading,"item-key":"term",headers:e.headers},on:{"update:pagination":function(t){e.pagination=t}},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",[a("td",[a("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:t.selected,callback:function(a){e.$set(t,"selected",a)},expression:"props.selected"}})],1),a("td",[a("router-link",{attrs:{to:{name:"search",query:Object.assign({},e.$route.query,{query:t.item.term})},target:"_blank"}},[e._v(e._s(t.item.term))])],1),a("td",[e._v(e._s(e._f("numFormat")(t.item.docFreq)))]),a("td",[e._v(e._s(e._f("numFormat")(t.item.totalTermFreq)))])])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[a("template",{slot:"no-data"},[a("v-alert",{attrs:{value:e.error,color:"error",icon:"warning"}},[e._v(e._s(e.error))])],1)],2)],1),e._v(" "),a("v-card",[a("v-card-title",[a("h2",[e._v("Generated query")])]),a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{column:""}},[a("v-text-field",{attrs:{label:"Separator"},model:{value:e.separator,callback:function(t){e.separator=t},expression:"separator"}}),a("v-textarea",{attrs:{label:"Query"},model:{value:e.generatedQuery,callback:function(t){e.generatedQuery=t},expression:"generatedQuery"}}),a("v-btn",{attrs:{color:"secondary",to:{name:"search",query:Object.assign({},e.$route.query,{query:e.generatedQuery})},target:"_blank"}},[e._v("Search")])],1)],1)],1),e._v(" "),a("v-card",[a("v-card-title",[a("h2",[e._v("Request")])]),a("v-container",{attrs:{fluid:""}},[a("a",{attrs:{href:e.request,target:"_blank"}},[e._v(e._s(e.request))])])],1)],1)},s=[],l=a("c93e"),n=a("dc0a"),o=a("aa9a"),i=a("d328"),u=a("11d9"),c=a("c665"),d=a("9ab4"),m=a("32e8"),p=a("def0"),v=a("60a3"),h=a("d3d8"),f=a("9693"),y=a("c713"),g=a("db3b"),b=a("a582"),q=a("5d92"),_=a("3ace"),x=a("46db"),F=a("3702"),$=a("10a1"),k=function e(t,a){Object(c["a"])(this,e),this.text=t,this.value=a},j=function(e){function t(){var e;return Object(c["a"])(this,t),e=Object(i["a"])(this,Object(u["a"])(t).apply(this,arguments)),e.totalTerms=-1,e.totalTermFreq=-1,e.totalDocFreq=-1,e.results=[],e.selected=[],e.separator="OR",e.loading=!1,e.error="",e.request="",e.tsearch="",e.auths=e.$localStorage.get("auths"),e.params={limit:20,level:"",query:""},e.pagination={sortBy:"docFreq",descending:!0,rowsPerPage:-1},e.generatedQuery="",e.levels=[],e.headers=[{text:"term",value:"term"},{text:"docFreq",value:"docFreq"},{text:"totalTermFreq",value:"totalTermFreq"}],e}return Object(o["a"])(t,[{key:"onSelect",value:function(){this.generatedQuery=this.selected.map(function(e){return e.term}).join(" "+this.separator+" ")}},{key:"search",value:function(){var e=this;this.loading=!0;var t=Object.assign({},this.$route.query,{endpoint:this.$store.state.endpoint},this.params);Object(m["a"])(this.$route.query,t)||this.$router.push({name:"terms",query:t}),p["a"].get(this.$store.state.endpoint+"similarTerms",{params:this.params,auth:this.auths[this.$store.state.endpoint]}).then(function(t){e.request=t.config.url+"?pretty&"+t.config.paramsSerializer(t.config.params),e.loading=!1,e.totalTerms=t.data.results.general.terms,e.totalTermFreq=t.data.results.general.totalTermFreq,e.totalDocFreq=t.data.results.general.totalDocFreq,e.results=t.data.results.results}).catch(function(t){e.loading=!1,e.results=[],e.error=t})}},{key:"onQueryChanged",value:function(){var e=Object.assign({},this.$route.query,this.params);Object(m["a"])(this.$route.query,e)||(Object.assign(this.params,this.$route.query),this.$store.state.endpoint&&this.params.query&&this.search())}},{key:"onIndexInfoChanged",value:function(){var e=this;this.$store.state.indexInfo.levels&&(this.levels=this.$store.state.indexInfo.levels.map(function(e){return new k(e.id+": "+e.description,e)}),this.params.level=this.$store.state.indexInfo.levels.find(function(t){return t.id===e.$store.state.indexInfo.defaultLevel}).id,this.params.query&&this.search())}}]),Object(n["a"])(t,e),t}(v["c"]);d["a"]([Object(v["d"])("selected"),Object(v["d"])("separator")],j.prototype,"onSelect",null),d["a"]([Object(v["d"])("$route.query",{immediate:!0})],j.prototype,"onQueryChanged",null),d["a"]([Object(v["d"])("$store.state.indexInfo",{immediate:!0})],j.prototype,"onIndexInfoChanged",null),j=d["a"]([Object(v["a"])({localStorage:h["a"],components:Object(l["a"])({EnsureEndpointInitialized:f["a"]},y,q,g,b,_,x,F,$)})],j);var O=j,T=O,w=a("2877"),I=Object(w["a"])(T,r,s,!1,null,null,null);I.options.__file="Terms.vue";t["default"]=I.exports}}]);
//# sourceMappingURL=terms.7d23922b.js.map